/**
 * @license Highcharts JS v2.3.3 (2012-10-04)
 * Prototype adapter
 *
 * @author Michael Nelson, Torstein HÃ¸nsi.
 *
 * Feel free to use and modify this script.
 * Highcharts license: www.highcharts.com/license.
 */
// JSLint options:
/*global Effect, Class, Event, Element, $, $$, $A */
// Adapter interface between prototype and the Highcharts charting library
var HighchartsAdapter=function(){var e=typeof Effect!="undefined";return{init:function(t){e&&(Effect.HighchartsTransition=Class.create(Effect.Base,{initialize:function(e,n,r,i){var s,o;this.element=e,this.key=n,s=e.attr?e.attr(n):$(e).getStyle(n),n==="d"&&(this.paths=t.init(e,e.d,r),this.toD=r,s=0,r=1),o=Object.extend(i||{},{from:s,to:r,attribute:n}),this.start(o)},setup:function(){HighchartsAdapter._extend(this.element),this.element._highchart_animation||(this.element._highchart_animation={}),this.element._highchart_animation[this.key]=this},update:function(e){var n=this.paths,r=this.element,i;n&&(e=t.step(n[0],n[1],e,this.toD)),r.attr?r.attr(this.options.attribute,e):(i={},i[this.options.attribute]=e,$(r).setStyle(i))},finish:function(){delete this.element._highchart_animation[this.key]}}))},adapterRun:function(e,t){return parseInt($(e).getStyle(t),10)},getScript:function(e,t){var n=$$("head")[0];n&&n.appendChild((new Element("script",{type:"text/javascript",src:e})).observe("load",t))},addNS:function(e){var t=/^(?:load|unload|abort|error|select|change|submit|reset|focus|blur|resize|scroll)$/,n=/^(?:click|mouse(?:down|up|over|move|out))$/;return t.test(e)||n.test(e)?e:"h:"+e},addEvent:function(e,t,n){e.addEventListener||e.attachEvent?Event.observe($(e),HighchartsAdapter.addNS(t),n):(HighchartsAdapter._extend(e),e._highcharts_observe(t,n))},animate:function(t,n,r){var i,s;r=r||{},r.delay=0,r.duration=(r.duration||500)/1e3,r.afterFinish=r.complete;if(e)for(i in n)s=new Effect.HighchartsTransition($(t),i,n[i],r);else{if(t.attr)for(i in n)t.attr(i,n[i]);r.complete&&r.complete()}t.attr||$(t).setStyle(n)},stop:function(e){var t;if(e._highcharts_extended&&e._highchart_animation)for(t in e._highchart_animation)e._highchart_animation[t].cancel()},each:function(e,t){$A(e).each(t)},inArray:function(e,t){return t.indexOf(e)},offset:function(e){return $(e).cumulativeOffset()},fireEvent:function(e,t,n,r){e.fire?e.fire(HighchartsAdapter.addNS(t),n):e._highcharts_extended&&(n=n||{},e._highcharts_fire(t,n)),n&&n.defaultPrevented&&(r=null),r&&r(n)},removeEvent:function(e,t,n){$(e).stopObserving&&(t&&(t=HighchartsAdapter.addNS(t)),$(e).stopObserving(t,n)),window===e?Event.stopObserving(e,t,n):(HighchartsAdapter._extend(e),e._highcharts_stop_observing(t,n))},washMouseEvent:function(e){return e},grep:function(e,t){return e.findAll(t)},map:function(e,t){return e.map(t)},merge:function(){function e(t,n){var r,i;for(i in n)r=n[i],r&&typeof r=="object"&&r.constructor!==Array&&typeof r.nodeType!="number"?t[i]=e(t[i]||{},r):t[i]=n[i];return t}function t(){var t=arguments,n,r={};for(n=0;n<t.length;n++)r=e(r,t[n]);return r}return t.apply(this,arguments)},_extend:function(e){e._highcharts_extended||Object.extend(e,{_highchart_events:{},_highchart_animation:null,_highcharts_extended:!0,_highcharts_observe:function(e,t){this._highchart_events[e]=[this._highchart_events[e],t].compact().flatten()},_highcharts_stop_observing:function(e,t){e?t?this._highchart_events[e]=[this._highchart_events[e]].compact().flatten().without(t):delete this._highchart_events[e]:this._highchart_events={}},_highcharts_fire:function(e,t){(this._highchart_events[e]||[]).each(function(e){if(t.stopped)return;t.preventDefault=function(){t.defaultPrevented=!0},e.bind(this)(t)===!1&&t.preventDefault()}.bind(this))}})}}}();